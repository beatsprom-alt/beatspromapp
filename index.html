<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Beatsprom Family</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Roboto+Mono:wght@500&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0; padding: 0;
            background: #000 url('bg.jpg') center center no-repeat;
            background-size: cover;
            color: #fff;
            font-family: 'Montserrat', sans-serif;
            display: flex; flex-direction: column;
            align-items: center; 
            justify-content: center; 
            height: 100vh; overflow: hidden;
        }
        .overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 1; }
        
        .content { 
            position: relative; 
            z-index: 2; 
            text-align: center; 
            width: 90%; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex-grow: 1;
            padding-bottom: 80px;
        }

        .tab-content { display: none; width: 100%; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .status-box {
            border: 1px solid #ff0000;
            padding: 25px 15px;
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.2);
        }
        
        .user-name { font-size: 18px; color: #ff0000; margin-bottom: 12px; text-transform: uppercase; font-weight: 800; }
        .label-text { font-size: 9px; color: #888; letter-spacing: 2px; font-weight: bold; text-transform: uppercase; }
        
        .balance { font-size: 50px; color: #ff0000; font-weight: 800; text-shadow: 0 0 20px rgba(255,0,0,0.4); }

        /* Стили для Roadmap (Strategy) */
        .roadmap-container { text-align: left; padding: 10px; }
        .phase-card {
            border-left: 2px solid #333;
            margin-bottom: 20px;
            padding-left: 20px;
            position: relative;
        }
        .phase-card.active { border-left-color: #ff0000; }
        .phase-card.active::before {
            content: '';
            position: absolute;
            left: -7px; top: 0;
            width: 12px; height: 12px;
            background: #ff0000;
            border-radius: 50%;
            box-shadow: 0 0 10px #ff0000;
        }
        .phase-num { font-size: 10px; color: #ff0000; font-weight: 800; margin-bottom: 5px; }
        .phase-title { font-size: 16px; font-weight: 800; margin-bottom: 5px; }
        .phase-desc { font-size: 11px; color: #aaa; line-height: 1.4; font-family: 'Montserrat', sans-serif; font-weight: 400;}

        .navbar { position: fixed; bottom: 0; left: 0; width: 100%; height: 70px; background: #000; border-top: 1px solid #222; display: flex; justify-content: space-around; align-items: center; z-index: 10; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #444; cursor: pointer; font-size: 9px; font-weight: 800; width: 25%; transition: 0.3s; }
        .nav-item div { padding: 8px 0; width: 100%; text-align: center; }
        .nav-item.active { color: #fff; }
        .nav-item.active div { background: #ff0000; }

        .mining-zone { margin-top: 20px; min-height: 120px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .farm-btn { background: #ff0000; color: #fff; border: none; padding: 18px; font-family: 'Montserrat', sans-serif; font-weight: 800; width: 100%; text-transform: uppercase; cursor: pointer; }
    </style>
</head>
<body>
    <div class="overlay"></div>
    <div class="content">
        <div id="tab-home" class="tab-content active">
            <div class="status-box">
                <div class="label-text">MEMBER IDENTIFIED</div>
                <div id="username" class="user-name">LOADING...</div>
                <div class="balance"><span id="main-balance">0</span><span style="font-size: 18px; margin-left: 5px;">XP</span></div>
                <div class="mining-zone">
                    <button class="farm-btn" onclick="startFarming()">Start Production</button>
                </div>
            </div>
        </div>

        <div id="tab-strategy" class="tab-content">
            <div class="status-box">
                <div class="user-name" style="margin-bottom: 25px;">Global Strategy</div>
                <div class="roadmap-container">
                    <div class="phase-card active">
                        <div class="phase-num">PHASE 01</div>
                        <div class="phase-title">DEEP FARMING</div>
                        <div class="phase-desc">Сбор комьюнити, распределение ранних XP активов и виральный рост через реферальную систему.</div>
                    </div>
                    <div class="phase-card">
                        <div class="phase-num">PHASE 02</div>
                        <div class="phase-title">TOKEN GEN</div>
                        <div class="phase-desc">Листинг токена на биржах, запуск кошельков и конвертация накопленных XP в реальные активы.</div>
                    </div>
                    <div class="phase-card">
                        <div class="phase-num">PHASE 03</div>
                        <div class="phase-title">MUSIC MARKETPLACE</div>
                        <div class="phase-desc">Запуск глобальной площадки: продажа битов, лицензий и мерча за криптовалюту. 0% комиссии для артистов.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-tasks" class="tab-content">
            <div class="status-box">
                <div class="user-name">MISSIONS</div>
                <p class="label-text">Complete tasks to boost XP</p>
                </div>
        </div>
    </div>

    <div class="navbar">
        <div class="nav-item active" onclick="showTab('home', this)"><div>PROD</div></div>
        <div class="nav-item" onclick="showTab('strategy', this)"><div>STRATEGY</div></div>
        <div class="nav-item" onclick="showTab('tasks', this)"><div>TASKS</div></div>
        <div class="nav-item" onclick="showTab('top', this)"><div>TOP</div></div>
    </div>

<script>
    function showTab(tabId, el) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        document.getElementById('tab-' + tabId).classList.add('active');
        el.classList.add('active');
    }
    // Остальная логика Firebase остается прежней...
</script>
</body>
</html>
